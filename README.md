# MicroServiceArchitecture

## 마이크로 서비스 아키텍처

### 마이크로 서비스란?

응용 프로그램 도메인의 컨텍스트 내에서 단일 초점 지점이 있는 서비스이다, 서비스는 콘솔, HTTP 기반 API, 이벤트 기반 도는 기타 유형의  프로세스라고 할수 있다.

마이크로 서비스는 그 자체로 완전한 어플리케이션을 구성하지 안흔다, 비지니스를 항목 별로 만들어 구성하게 된다.

### 마이크로서비스의 이해

**마이크로서비스 아키텍처는 여러 마이크로서비스를 결합하여 완벽하게 작동하는 시스템을 만드는 것입니다**

여기서는 구현으로 전자 상거래 에플리케이션의 아키텍처를 Order, Basket, Product API Server를 구성하여 프론트엔드를 통해 시스템과 상호 작용하는 어플리케이션을 구축할예정이다.

각 마이크로서비스는 데이터 스토어를 사용하여 작동하는데 필요한 정보를 유지하며 다른 마이크로서비스가 소유한 데이터 스토어에 연겨하지 않는다.

각 마이크로 서비스의 기능과 코드 베이스를 결합하는 것을 의미하지 않는다, API또는 이벤트를 통해 마이크로서비스가 작동하며 어플리케이션의 결합을 제공한다.

### 마이크로 서비스 장점

* 소수의 개발자가 쉽게 유지관리
  * 한가지 작업에대해서만  집중하기 떄문에 변경의 가능성이 낮다.
  * 단일 책임원칙을 고수하기 유리
  * 자체 데이터 저장소를 소유하며, 다른 서비스가 데이터와 상호 작용하는것을 허용하지 않는다.
* 지속적인 가치를 제공
  * 작은 서비스를 사용하면 서비스에 대한 더 많은 자동화된 테스트를 작성이 가능
  * 모놀리식 코드보다 외부 의존성이 적으며 모방하기 쉽다.
  * 기능별로 프로젝트를 구성하기 떄문에 새로운 기능이 구현될때 해당 프로젝트만 개발하면되고 그로인한 영향을 끼치기 어렵다
* 확장성이 뛰어나고 가용성이 뛰어남
  * 시스템과 사용자의 요구를 충족할 수 있는 능력을 의미

### 마이크로 서비스 단점

* 복잡성
  * 단일 솔루션이아닌 각 기능별로 나누어 독립적인 코드베이스를 가진다.
* 지연시간 증가
  * 다른 서비스와 느슨하게 결합되기를 원한다
    * 이벤트와 메시징을 사용하는 비동기 서비스를 선택 각 서비스들에게 메시지를 전달하게 된다.
  * 서비스간 호출을 수행시 대기시간이 늘어난다,
  * HTTP 또는 gRPC 대기시간 떄문에 하나의 프로세스로 구성된 시스템보다 느리다.
* 코드 리펙토링

### 마이크로서비스 용이한 사용법

모놀리식 아키텍쳐를 새 어플리케이션을 개발시 사용하는것이 좋다 적은 인원 적은 사용자 시 병목현상이 심한 시스템을 도입하긴 힘들다, 그러나 이미 여러개발자와 팀이 잘 구축이되엉 있다면 마이크로 서비스 아키택쳐를 선택하는것도 좋은 선택이 될것이다

---

# 프로잭트 구성

전자 상거래 도메인 구축 예정

## Basket 마이크로 서비스

장바구니 서비스.

REST API 를 준수한 API 를 구축, HTTP 보다 빠른 gRPC , 메시지 또는 큐 기반의 메시지 브로커에게 메시지를 게시할수 있도록 하는 방식으로 서비스끼리 통신을 한다.

장바구니 서비스는 HTTP REST Api 구현

docker build -t basket.service:v1.0 -f Basket.Service\Dockerfile .

docker run -it --rm -p 8000:8080 basket.service:v1.0
